services:
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    volumes:
      - ./backend/data:/app/data
      - insightface_models:/root/.insightface/models
    # On Linux, uncomment the following to allow webcam access
    # devices:
    #   - "/dev/video0:/dev/video0"
    environment:
      - APP_HOST=0.0.0.0

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

volumes:
  insightface_models:
